<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 The Fully-Informed Upvote Probability | The Global Brain Algorithm</title>
  <meta name="description" content="<p>This is a collection of explanations on the global brain algorithm.
We explain core concepts in simple terms that help to understand the
algorithms as a whole.</p>" />
  <meta name="generator" content="bookdown 0.36 and GitBook 2.6.7" />

  <meta property="og:title" content="7 The Fully-Informed Upvote Probability | The Global Brain Algorithm" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a collection of explanations on the global brain algorithm.
We explain core concepts in simple terms that help to understand the
algorithms as a whole.</p>" />
  <meta name="github-repo" content="social-protocols/global-brain" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 The Fully-Informed Upvote Probability | The Global Brain Algorithm" />
  
  <meta name="twitter:description" content="<p>This is a collection of explanations on the global brain algorithm.
We explain core concepts in simple terms that help to understand the
algorithms as a whole.</p>" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="the-informed-upvote-probability.html"/>
<link rel="next" href="cognitive-dissonance.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">The Global Brain Algorithm</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="Rationale.html"><a href="Rationale.html"><i class="fa fa-check"></i><b>1</b> Rationale</a></li>
<li class="chapter" data-level="2" data-path="problem-discussion-threads.html"><a href="problem-discussion-threads.html"><i class="fa fa-check"></i><b>2</b> The Problem with Conventional Discussion Threads</a>
<ul>
<li class="chapter" data-level="2.1" data-path="problem-discussion-threads.html"><a href="problem-discussion-threads.html#novel-ui"><i class="fa fa-check"></i><b>2.1</b> A Novel UI to Navigate Discussion Threads</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="key-concepts-and-assumptions.html"><a href="key-concepts-and-assumptions.html"><i class="fa fa-check"></i><b>3</b> Key Concepts and Assumptions</a>
<ul>
<li class="chapter" data-level="3.1" data-path="key-concepts-and-assumptions.html"><a href="key-concepts-and-assumptions.html#establishing-causality"><i class="fa fa-check"></i><b>3.1</b> Establishing Causality</a></li>
<li class="chapter" data-level="3.2" data-path="key-concepts-and-assumptions.html"><a href="key-concepts-and-assumptions.html#distributed-reasoning"><i class="fa fa-check"></i><b>3.2</b> Distributed Reasoning</a>
<ul>
<li class="chapter" data-level="" data-path="key-concepts-and-assumptions.html"><a href="key-concepts-and-assumptions.html#example-did-an-earthquake-just-happen"><i class="fa fa-check"></i>Example: Did an Earthquake Just Happen?</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="key-concepts-and-assumptions.html"><a href="key-concepts-and-assumptions.html#optimizing-for-information-value"><i class="fa fa-check"></i><b>3.3</b> Optimizing for Information Value</a></li>
<li class="chapter" data-level="3.4" data-path="key-concepts-and-assumptions.html"><a href="key-concepts-and-assumptions.html#reducing-cognitive-dissonance"><i class="fa fa-check"></i><b>3.4</b> Reducing Cognitive Dissonance</a></li>
<li class="chapter" data-level="3.5" data-path="key-concepts-and-assumptions.html"><a href="key-concepts-and-assumptions.html#cognitive-dissonance-as-relative-entropy"><i class="fa fa-check"></i><b>3.5</b> Cognitive Dissonance as Relative Entropy</a></li>
<li class="chapter" data-level="3.6" data-path="key-concepts-and-assumptions.html"><a href="key-concepts-and-assumptions.html#the-causal-model"><i class="fa fa-check"></i><b>3.6</b> The Causal Model</a></li>
</ul></li>
<li class="part"><span><b>II Identifying Top Replies</b></span></li>
<li class="chapter" data-level="4" data-path="driving-informative-discussions.html"><a href="driving-informative-discussions.html"><i class="fa fa-check"></i><b>4</b> Driving Informative Discussions</a>
<ul>
<li class="chapter" data-level="4.1" data-path="driving-informative-discussions.html"><a href="driving-informative-discussions.html#informal-argument-model"><i class="fa fa-check"></i><b>4.1</b> An Informal Argument Model</a></li>
<li class="chapter" data-level="4.2" data-path="driving-informative-discussions.html"><a href="driving-informative-discussions.html#what-is-the-best-reply"><i class="fa fa-check"></i><b>4.2</b> What is the “Best” Reply?</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="modeling-upvote-probability.html"><a href="modeling-upvote-probability.html"><i class="fa fa-check"></i><b>5</b> Modeling Upvote Probability</a>
<ul>
<li class="chapter" data-level="5.1" data-path="modeling-upvote-probability.html"><a href="modeling-upvote-probability.html#beta-Binomial-model"><i class="fa fa-check"></i><b>5.1</b> The Beta-Binomial Model</a>
<ul>
<li class="chapter" data-level="" data-path="modeling-upvote-probability.html"><a href="modeling-upvote-probability.html#example"><i class="fa fa-check"></i>Example</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="modeling-upvote-probability.html"><a href="modeling-upvote-probability.html#naive-point-estimate"><i class="fa fa-check"></i><b>5.2</b> Naive Point Estimate</a></li>
<li class="chapter" data-level="5.3" data-path="modeling-upvote-probability.html"><a href="modeling-upvote-probability.html#the-bayesian-average"><i class="fa fa-check"></i><b>5.3</b> The Bayesian Average</a></li>
<li class="chapter" data-level="5.4" data-path="modeling-upvote-probability.html"><a href="modeling-upvote-probability.html#the-bayesian-hierarchical-model"><i class="fa fa-check"></i><b>5.4</b> The Bayesian Hierarchical Model</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="modeling-upvote-probability.html"><a href="modeling-upvote-probability.html#approximating-the-mean-upvote-probability"><i class="fa fa-check"></i><b>5.4.1</b> Approximating the Mean Upvote Probability</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="the-informed-upvote-probability.html"><a href="the-informed-upvote-probability.html"><i class="fa fa-check"></i><b>6</b> The Informed Upvote Probability</a>
<ul>
<li class="chapter" data-level="6.1" data-path="the-informed-upvote-probability.html"><a href="the-informed-upvote-probability.html#definition-of-informed-upvote-probability"><i class="fa fa-check"></i><b>6.1</b> Definition of Informed Upvote Probability</a></li>
<li class="chapter" data-level="6.2" data-path="the-informed-upvote-probability.html"><a href="the-informed-upvote-probability.html#extrapolating-informed-upvote-probability"><i class="fa fa-check"></i><b>6.2</b> Extrapolating Informed Upvote Probability</a></li>
<li class="chapter" data-level="6.3" data-path="the-informed-upvote-probability.html"><a href="the-informed-upvote-probability.html#uninformed-informed-and-overall-tallies"><i class="fa fa-check"></i><b>6.3</b> Uninformed, Informed, and Overall Tallies</a></li>
<li class="chapter" data-level="6.4" data-path="the-informed-upvote-probability.html"><a href="the-informed-upvote-probability.html#the-adding-informed-probability-to-the-hierarchical-model"><i class="fa fa-check"></i><b>6.4</b> The Adding Informed Probability to the Hierarchical Model</a></li>
<li class="chapter" data-level="6.5" data-path="the-informed-upvote-probability.html"><a href="the-informed-upvote-probability.html#the-reversion-parameter"><i class="fa fa-check"></i><b>6.5</b> The Reversion Parameter</a></li>
<li class="chapter" data-level="6.6" data-path="the-informed-upvote-probability.html"><a href="the-informed-upvote-probability.html#full-model"><i class="fa fa-check"></i><b>6.6</b> Full Model</a></li>
<li class="chapter" data-level="6.7" data-path="the-informed-upvote-probability.html"><a href="the-informed-upvote-probability.html#calculating-the-informeduninformed-upvote-probabilities"><i class="fa fa-check"></i><b>6.7</b> Calculating The Informed/Uninformed Upvote Probabilities</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="the-fully-informed-upvote-probability.html"><a href="the-fully-informed-upvote-probability.html"><i class="fa fa-check"></i><b>7</b> The Fully-Informed Upvote Probability</a></li>
<li class="part"><span><b>III Concepts</b></span></li>
<li class="chapter" data-level="8" data-path="cognitive-dissonance.html"><a href="cognitive-dissonance.html"><i class="fa fa-check"></i><b>8</b> Cognitive Dissonance</a>
<ul>
<li class="chapter" data-level="8.1" data-path="cognitive-dissonance.html"><a href="cognitive-dissonance.html#key-concepts-from-information-theory"><i class="fa fa-check"></i><b>8.1</b> Key Concepts from Information Theory</a></li>
<li class="chapter" data-level="8.2" data-path="cognitive-dissonance.html"><a href="cognitive-dissonance.html#surprisal-as-a-measure-of-error"><i class="fa fa-check"></i><b>8.2</b> Surprisal as a Measure of Error</a></li>
<li class="chapter" data-level="8.3" data-path="cognitive-dissonance.html"><a href="cognitive-dissonance.html#total-cross-entropy"><i class="fa fa-check"></i><b>8.3</b> Total Cross Entropy</a></li>
<li class="chapter" data-level="8.4" data-path="cognitive-dissonance.html"><a href="cognitive-dissonance.html#total-relative-entropy-cognitive-dissonance"><i class="fa fa-check"></i><b>8.4</b> Total Relative Entropy = Cognitive Dissonance</a></li>
<li class="chapter" data-level="8.5" data-path="cognitive-dissonance.html"><a href="cognitive-dissonance.html#detailed-example"><i class="fa fa-check"></i><b>8.5</b> Detailed Example</a></li>
<li class="chapter" data-level="8.6" data-path="cognitive-dissonance.html"><a href="cognitive-dissonance.html#discussion"><i class="fa fa-check"></i><b>8.6</b> Discussion</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="cognitive-dissonance.html"><a href="cognitive-dissonance.html#parallel-to-machine-learning"><i class="fa fa-check"></i><b>8.6.1</b> Parallel to Machine Learning</a></li>
<li class="chapter" data-level="8.6.2" data-path="cognitive-dissonance.html"><a href="cognitive-dissonance.html#subtle-point-1"><i class="fa fa-check"></i><b>8.6.2</b> Subtle Point 1</a></li>
<li class="chapter" data-level="8.6.3" data-path="cognitive-dissonance.html"><a href="cognitive-dissonance.html#subtle-point-2"><i class="fa fa-check"></i><b>8.6.3</b> Subtle Point 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="information-value.html"><a href="information-value.html"><i class="fa fa-check"></i><b>9</b> Information Value</a>
<ul>
<li class="chapter" data-level="9.1" data-path="information-value.html"><a href="information-value.html#the-information-value-of-a-vote"><i class="fa fa-check"></i><b>9.1</b> The Information Value of a Vote</a></li>
<li class="chapter" data-level="9.2" data-path="information-value.html"><a href="information-value.html#information-value-of-changed-votes"><i class="fa fa-check"></i><b>9.2</b> Information Value of Changed Votes</a></li>
<li class="chapter" data-level="9.3" data-path="information-value.html"><a href="information-value.html#information-value-of-new-votes"><i class="fa fa-check"></i><b>9.3</b> Information Value of New Votes</a></li>
<li class="chapter" data-level="9.4" data-path="information-value.html"><a href="information-value.html#what-does-a-vote-mean"><i class="fa fa-check"></i><b>9.4</b> What Does a Vote Mean?</a></li>
<li class="chapter" data-level="9.5" data-path="information-value.html"><a href="information-value.html#example-1-a-storm-in-madrid"><i class="fa fa-check"></i><b>9.5</b> Example 1: A Storm in Madrid</a></li>
<li class="chapter" data-level="9.6" data-path="information-value.html"><a href="information-value.html#example-2-a-typhoon-in-oslo"><i class="fa fa-check"></i><b>9.6</b> Example 2: A Typhoon in Oslo</a></li>
<li class="chapter" data-level="9.7" data-path="information-value.html"><a href="information-value.html#desired-properties-of-information-value-formula"><i class="fa fa-check"></i><b>9.7</b> Desired Properties of Information Value Formula</a></li>
<li class="chapter" data-level="9.8" data-path="information-value.html"><a href="information-value.html#upvote-only-relative-entropy"><i class="fa fa-check"></i><b>9.8</b> Upvote-Only Relative Entropy</a></li>
<li class="chapter" data-level="9.9" data-path="information-value.html"><a href="information-value.html#example-charts"><i class="fa fa-check"></i><b>9.9</b> Example Charts</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="informtaion-theory-primer.html"><a href="informtaion-theory-primer.html"><i class="fa fa-check"></i><b>A</b> Primer on Information Theory I</a>
<ul>
<li class="chapter" data-level="A.1" data-path="informtaion-theory-primer.html"><a href="informtaion-theory-primer.html#intuitions-about-key-concepts"><i class="fa fa-check"></i><b>A.1</b> Intuitions about Key Concepts</a></li>
<li class="chapter" data-level="A.2" data-path="informtaion-theory-primer.html"><a href="informtaion-theory-primer.html#surprisal"><i class="fa fa-check"></i><b>A.2</b> Surprisal</a>
<ul>
<li class="chapter" data-level="" data-path="informtaion-theory-primer.html"><a href="informtaion-theory-primer.html#what-about-the-base-of-the-logarithm"><i class="fa fa-check"></i>What about the Base of the Logarithm?</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="informtaion-theory-primer.html"><a href="informtaion-theory-primer.html#entropy"><i class="fa fa-check"></i><b>A.3</b> Entropy</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Global Brain Algorithm</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="the-fully-informed-upvote-probability" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">7</span> The Fully-Informed Upvote Probability<a href="the-fully-informed-upvote-probability.html#the-fully-informed-upvote-probability" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><img src="images/top-note-algorithm/identifying-top-replies-conceptual.png" width="100%" style="display: block; margin: auto;" /></p>
<p>The core algorithm on the thread level is the algorithm that identifies the top replies.
It quantifies <strong>how much information each reply adds to the original post</strong> and determines the reply that <strong>adds the most information.</strong>
A different way of putting it would be that we predict how <strong>a fully informed user <em>would</em> vote on any given post</strong>.
We can then compare that informed upvote probability with the uninformed one to determine how convincing the reply is with regard to the original post.</p>
<p>We are considering two posts: a post <span class="math inline">\(A\)</span> and direct reply <span class="math inline">\(B\)</span>.
We observe the following events:</p>
<ul>
<li><span class="math inline">\(u_A := \text{a vote on A is an upvote}\)</span></li>
<li><span class="math inline">\(u_B := \text{analogous}\)</span></li>
<li><span class="math inline">\(s_B := \text{the user was shown post B}\)</span></li>
<li><span class="math inline">\(\bar{s_B} := \text{the user was not shown post B}\)</span></li>
<li><span class="math inline">\(s_{B*} := \text{the user was shown the top note on B}\)</span></li>
<li><span class="math inline">\(\bar{s_{B*}} := \text{the user was not shown the top note on B}\)</span></li>
</ul>
<p>What we are looking for is <span class="math inline">\(P(u_A | s_B, s_{B*})\)</span>, the probability of an upvote on <span class="math inline">\(A\)</span> given that the user has seen <span class="math inline">\(B\)</span> and the top note on <span class="math inline">\(B\)</span> (<strong>fully-informed upvote probability</strong>).
We define it as the weighted average of the upvote probability of <span class="math inline">\(A\)</span> given that the user has <strong>seen the top note on <span class="math inline">\(B\)</span></strong> and the upvote probability of <span class="math inline">\(A\)</span> given that the user has <strong>not seen the top note on <span class="math inline">\(B\)</span></strong>:</p>
<p><span class="math display">\[
P(u_A | s_B, s_{B*}) = P(u_A | s_B) \cdot \text{support} + P(u_A | \bar{s_B})(1 - \text{support})
\]</span></p>
<p>The weights are given by the <strong>support</strong> of the top note on <span class="math inline">\(B\)</span>. Support is the ratio (expressed as a fraction) between the informed upvote probability of <span class="math inline">\(B\)</span> given that the user <strong>has seen</strong> the top note on <span class="math inline">\(B\)</span> and the informed upvote probability of <span class="math inline">\(B\)</span> given that the user <strong>has not seen</strong> the top note on <span class="math inline">\(B\)</span>.</p>
<p><span class="math display">\[
\text{support} = \frac{P(u_B | s_{B*})}{P(u_B | s_{B*}) + P(u_B | \bar{s_{B*}})}
\]</span></p>
<p>As we condition on the user being shown the <em>top</em> note of post <span class="math inline">\(B\)</span> (<span class="math inline">\(s_B*\)</span>), the informed upvote probability of <span class="math inline">\(A\)</span> needs to take <strong>all information below it in the tree</strong> into account.
To know the informed probability of <span class="math inline">\(A\)</span>, we need to know the informed probabilities of all the replies to <span class="math inline">\(A\)</span> as well, and for each of those, we need the informed probabilities of their replies too, and so on.
To calculate all of those probabilities, the algorithm recurses through the discussion tree, starting at the top note.
For leaf nodes, the informed upvote probability is equal to the uninformed upvote probability because leaf nodes have no replies which means reaching a leaf node is the stopping criterion for the recursion.</p>
<p><img src="images/top-note-algorithm/top-reply-recursion.gif" width="100%" style="display: block; margin: auto;" /></p>
<p><strong>The outcome of the algorithm are all the informed probabilities of the replies in a given discussion tree.</strong>
We can compare them with the uninformed probabilities to find out which replies are most likely to change users’ votes.</p>
<!-- ### Example {-} -->
<!-- TODO: Add example on a simple tree like this: -->
<!--             1 -->
<!--            / \ -->
<!--           2   3 -->
<!--          / \   \ -->
<!--         4   5   6 -->
<!--                  \ -->
<!--                   7 -->
</div>



            </section>

          </div>
        </div>
      </div>
<a href="the-informed-upvote-probability.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="cognitive-dissonance.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
